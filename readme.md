### I. Config oracle database cdc
    https://debezium.io/blog/2022/09/30/debezium-oracle-series-part-1/
    https://debezium.io/blog/2022/10/06/debezium-oracle-series-part-2/

### Raw
    Cấu hình quyền người dùng:
	Connector yêu cầu quyền 

	sqlplus sys as sysdba - oraclepw

	ALTER SESSION SET CONTAINER=CDB$ROOT;
	CREATE ROLE C##CDC_PRIVS;
	CREATE USER C##MYUSER IDENTIFIED BY password CONTAINER=ALL;
	ALTER USER C##MYUSER QUOTA UNLIMITED ON USERS;
	ALTER USER C##MYUSER SET CONTAINER_DATA = (CDB$ROOT, ORCLPDB1) CONTAINER=CURRENT;
	GRANT C##CDC_PRIVS to C##MYUSER CONTAINER=ALL;

	GRANT CONNECT TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT CREATE SESSION TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT LOGMINING TO C##CDC_PRIVS CONTAINER=ALL;

	GRANT SELECT ON V_$DATABASE TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$INSTANCE to C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$THREAD TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$PARAMETER TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$NLS_PARAMETERS TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$TIMEZONE_NAMES TO C##CDC_PRIVS CONTAINER=ALL;

	GRANT SELECT ON DBA_PDBS TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON CDB_TABLES TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON CDB_TAB_PARTITIONS TO C##CDC_PRIVS CONTAINER=ALL;

	ALTER SESSION SET CONTAINER=ORCLPDB1;

	CREATE TABLE customers (
    RECID VARCHAR2(255) NOT NULL,
    XMLRECORD XMLTYPE,
    KYC_RELATIONSHIP VARCHAR2(4000),
    COMPANY_BOOK VARCHAR2(4000),
    FAMILY_NAME VARCHAR2(4000),
    CO_CODE VARCHAR2(4000),
    CUSTOMER_SINCE VARCHAR2(4000),
    CUSTOMER_STATUS VARCHAR2(4000),
    GIVEN_NAMES VARCHAR2(4000),
    SECTOR VARCHAR2(4000),
    MNEMONIC VARCHAR2(4000),
    SHORT_NAME VARCHAR2(4000),
    ACCOUNT_OFFICER VARCHAR2(4000),
    DATE_OF_BIRTH VARCHAR2(4000),
    CUSTOMER_TYPE VARCHAR2(4000),
    AUTO_NEXT_KYC_REVIEW_DATE VARCHAR2(4000),
    CONSTRAINT PK_FBNK_CUSTOMER PRIMARY KEY (RECID)
	);

	INSERT INTO SYS.CUSTOMERS (RECID, XMLRECORD, KYC_RELATIONSHIP, COMPANY_BOOK, FAMILY_NAME, CO_CODE, CUSTOMER_SINCE, CUSTOMER_STATUS, GIVEN_NAMES, SECTOR, MNEMONIC, SHORT_NAME, ACCOUNT_OFFICER, DATE_OF_BIRTH, CUSTOMER_TYPE, AUTO_NEXT_KYC_REVIEW_DATE) VALUES ('66612999123', XMLType('<row id="1060999"><c1>TEST_AFTER_LOGGING</c1><c29>12345678</c29></row>'), 'KH0012506', 'XXXXX', 'XXXXX', 'KH0010001', '20190307', 'ACTIVE', 'XXXXX', '9000', 'HAMS561001', 'XXXXX', '50', '20000101', '61', NULL);
	INSERT INTO SYS.CUSTOMERS (RECID, XMLRECORD, KYC_RELATIONSHIP, COMPANY_BOOK, FAMILY_NAME, CO_CODE, CUSTOMER_SINCE, CUSTOMER_STATUS, GIVEN_NAMES, SECTOR, MNEMONIC, SHORT_NAME, ACCOUNT_OFFICER, DATE_OF_BIRTH, CUSTOMER_TYPE, AUTO_NEXT_KYC_REVIEW_DATE) VALUES ('66612999124', XMLType('<row id="1060999"><c1>TEST_AFTER_LOGGING</c1><c29>12345678</c29></row>'), 'KH0012506', 'XXXXX', 'XXXXX', 'KH0010001', '20190307', 'ACTIVE', 'XXXXX', '9000', 'HAMS561001', 'XXXXX', '50', '20000101', '61', NULL);
	INSERT INTO SYS.CUSTOMERS (RECID, XMLRECORD, KYC_RELATIONSHIP, COMPANY_BOOK, FAMILY_NAME, CO_CODE, CUSTOMER_SINCE, CUSTOMER_STATUS, GIVEN_NAMES, SECTOR, MNEMONIC, SHORT_NAME, ACCOUNT_OFFICER, DATE_OF_BIRTH, CUSTOMER_TYPE, AUTO_NEXT_KYC_REVIEW_DATE) VALUES ('66612999126', XMLType('<row id="1060999"><c1>TEST_AFTER_LOGGING</c1><c29>12345678</c29></row>'), 'KH0012506', 'XXXXX', 'XXXXX', 'KH0010001', '20190307', 'ACTIVE', 'XXXXX', '9000', 'HAMS561001', 'XXXXX', '50', '20000101', '61', NULL);

	UPDATE SYS.CUSTOMERS SET CUSTOMER_TYPE = '666' WHERE RECID = '66612999125';

	UPDATE SYS.CUSTOMERS
	SET XMLRECORD = XMLType('<row id="1060999"><c1>TEST_AFTER_LOGGINGhungnq1</c1><c29>12345678</c29></row>')
	WHERE RECID = '66612999125';

	GRANT SELECT ON customers TO C##CDC_PRIVS;

	ALTER SESSION SET CONTAINER=CDB$ROOT;
	GRANT SELECT ON V_$LOG TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$LOGFILE TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$LOGMNR_CONTENTS TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$ARCHIVED_LOG TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT SELECT ON V_$ARCHIVE_DEST_STATUS TO C##CDC_PRIVS CONTAINER=ALL;

	GRANT EXECUTE ON SYS.DBMS_LOGMNR TO C##CDC_PRIVS CONTAINER=ALL;
	GRANT EXECUTE ON SYS.DBMS_LOGMNR_D TO C##CDC_PRIVS CONTAINER=ALL;

	sqlplus C##MYUSER@ORCLPDB1 --- password
	SELECT * FROM SYS.CUSTOMERS;

    Turn on ARCHIVELOG mode

	SELECT LOG_MODE FROM V$DATABASE;
	SHUTDOWN IMMEDIATE;
	STARTUP MOUNT;
	ALTER DATABASE ARCHIVELOG;
	ALTER DATABASE OPEN;
	SELECT LOG_MODE FROM V$DATABASE;

    Enable supplemental logging
	
	ALTER SESSION SET CONTAINER=cdb$root;
	ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (ALL) COLUMNS;
	ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;

	ALTER SESSION SET CONTAINER=ORCLPDB1;
	ALTER TABLE SYS.CUSTOMERS ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;



	ALTER SESSION SET CONTAINER=ORCLPDB1;
	GRANT FLASHBACK ON SYS.CUSTOMERS TO C##CDC_PRIVS;

	https://docs.confluent.io/kafka-connectors/oracle-cdc/current/examples.html#capturing-lob-type-columns

** Tìm hiểu
	- SQL, NoSQL (MongoDb): https://www.youtube.com/watch?v=8Nx7cdwT86c
	- Hadoop, Spark
	- Quy trình phát triển phần mềm SDLC
	- ACID: https://viblo.asia/p/dao-sau-ve-sql-transactions-E375z4jWZGW#_isolation-levels-6
	- Napas sản phẩm
	- https://strimzi.io/
